{% extends "base.html" %}

{% block title %}To-Do List{% endblock %}

{% block content %}
    <h1 class="mt-4">To-Do List</h1>
    <ul class="list-group mb-4">
        {% for task in tasks %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                <input type="text" id="name-{{ task._id }}" value="{{ task.name }}" class="form-control mb-2" placeholder="Task Name">
                <input type="text" id="description-{{ task._id }}" value="{{ task.description }}" class="form-control mb-2" placeholder="Task Description">
                <select id="status-{{ task._id }}" class="form-control">
                    <option value="Not Started" {% if task.status == 'Not Started' %}selected{% endif %}>Not Started</option>
                    <option value="In Progress" {% if task.status == 'In Progress' %}selected{% endif %}>In Progress</option>
                    <option value="Completed" {% if task.status == 'Completed' %}selected{% endif %}>Completed</option>
                </select>
            </div>
            <div class="btn-group">
                <button onclick="updateTask('{{ task._id }}')" class="btn btn-primary">Update</button>
                <button onclick="deleteTask('{{ task._id }}')" class="btn btn-danger">Delete</button>
            </div>
        </li>
        {% endfor %}
    </ul>
    <h2>Add New Task</h2>
    <div class="form-group">
        <input type="text" id="taskName" class="form-control mb-2" placeholder="Task Name">
        <input type="text" id="taskDescription" class="form-control mb-2" placeholder="Task Description">
        <button onclick="addTask()" class="btn btn-success">Add Task</button>
    </div>
{% endblock %}
